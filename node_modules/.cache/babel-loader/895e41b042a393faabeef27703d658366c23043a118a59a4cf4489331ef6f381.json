{"ast":null,"code":"var _jsxFileName = \"F:\\\\Coding crafters\\\\coding-crafters\\\\src\\\\components\\\\Inbox.jsx\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport { FirebaseProvider, db, storage, useFirebase } from \"../context/Firebase\";\nimport \"./dummy_inbox.css\";\nimport 'firebase/storage';\nimport { getDownloadURL, ref, uploadBytes } from \"firebase/storage\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Dummyinbox() {\n  _s();\n  const [Post_textarea, setPost_textarea] = useState(\"\");\n  const TxtChange = event => {\n    setPost_textarea(event.target.value);\n  };\n  const [Post_txtTitle, setPost_txtTile] = useState(\"\");\n  const TxtTitle = event => {\n    setPost_txtTile(event.target.value);\n  };\n  const [ImgUpload, setImgUpload] = useState([]);\n  const [uploadstatus, setuploadstatus] = useState(false);\n  const [uploadno, setuploadno] = useState('');\n  const [lengths, setlength] = useState('');\n  let URLS = [];\n  const firebase = useFirebase();\n  const postDatas = async () => {\n    let time = Date.now();\n    if ((Post_txtTitle || Post_textarea) === '' || ImgUpload.length === 0) {\n      alert(\"Please Fill all \");\n      if (window.confirm) {\n        window.location.reload();\n      }\n    } else {\n      setlength(ImgUpload.length);\n      for (let i = 0; i < ImgUpload.length; i++) {\n        setuploadno(i + 1);\n        const imgref = ref(storage, `post/${time}`);\n        await uploadBytes(imgref, ImgUpload[i]) //For uploading (kuta upload,kai upload)\n        .then(async snapshot => {\n          //  \"snapshot\" tyat sagala astay [items,prefixes,extra]\n          await getDownloadURL(snapshot.ref) //url download karaylo ref cha, ref kai ahe tar \"ImageUrls/\"\n          .then(url => {\n            //snapshot madla url\n            URLS.push(url);\n          });\n        });\n      }\n      firebase.putData(`posts/${time}`, {\n        Title: Post_txtTitle,\n        Para: Post_textarea,\n        IImages: URLS\n      });\n    }\n  };\n  const status = () => {\n    setuploadstatus(!uploadstatus);\n  };\n  const posthandler = () => {\n    postDatas();\n    status();\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"postUpload_body\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"postUpload_container\",\n        children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n          placeholder: \"Type Title\",\n          value: Post_txtTitle,\n          onChange: TxtTitle,\n          className: \"postUpload_title\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          placeholder: \"Type here\",\n          value: Post_textarea,\n          onChange: TxtChange,\n          className: \"postUpload_textarea\",\n          children: \" \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"postUploadBrowse\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"postUpload_img\",\n            src: \"./tabler_photo-up.svg\",\n            alt: \"/\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            multiple: true,\n            onChange: event => {\n              setImgUpload(event.target.files);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"postUploadbtn\",\n            onClick: posthandler,\n            children: \"Post\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this), uploadstatus && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: uploadno <= lengths ? /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Uploaded...\", uploadno, \"/\", lengths]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Uploaded All\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n_s(Dummyinbox, \"lAv2GX/IvSkBvjE8l2tsW3hydQI=\", false, function () {\n  return [useFirebase];\n});\n_c = Dummyinbox;\nvar _c;\n$RefreshReg$(_c, \"Dummyinbox\");","map":{"version":3,"names":["useState","FirebaseProvider","db","storage","useFirebase","getDownloadURL","ref","uploadBytes","jsxDEV","_jsxDEV","Fragment","_Fragment","Dummyinbox","_s","Post_textarea","setPost_textarea","TxtChange","event","target","value","Post_txtTitle","setPost_txtTile","TxtTitle","ImgUpload","setImgUpload","uploadstatus","setuploadstatus","uploadno","setuploadno","lengths","setlength","URLS","firebase","postDatas","time","Date","now","length","alert","window","confirm","location","reload","i","imgref","then","snapshot","url","push","putData","Title","Para","IImages","status","posthandler","children","className","placeholder","onChange","fileName","_jsxFileName","lineNumber","columnNumber","src","alt","type","multiple","files","onClick","_c","$RefreshReg$"],"sources":["F:/Coding crafters/coding-crafters/src/components/Inbox.jsx"],"sourcesContent":["\r\nimport { useState } from \"react\";\r\nimport { FirebaseProvider, db, storage, useFirebase } from \"../context/Firebase\";\r\nimport \"./dummy_inbox.css\";\r\nimport 'firebase/storage';\r\nimport { getDownloadURL, ref, uploadBytes } from \"firebase/storage\"\r\n\r\nexport default function Dummyinbox() {\r\n\r\n  const [Post_textarea, setPost_textarea] = useState(\"\");\r\n  const TxtChange = (event) => {\r\n    setPost_textarea(event.target.value);\r\n  };\r\n\r\n  const [Post_txtTitle, setPost_txtTile] = useState(\"\");\r\n  const TxtTitle = (event) => {\r\n    setPost_txtTile(event.target.value);\r\n  };\r\n\r\n  const [ImgUpload, setImgUpload] = useState([])\r\n  const [uploadstatus, setuploadstatus] = useState(false)\r\n  const [uploadno, setuploadno] = useState('')\r\n  const [lengths, setlength] = useState('')\r\n  let URLS = []\r\n  const firebase=useFirebase();\r\n\r\n\r\n  const postDatas = async () => {\r\n    let time = Date.now();\r\n\r\n    if (((Post_txtTitle || Post_textarea) === '') || (ImgUpload.length === 0)) {\r\n      alert(\"Please Fill all \");\r\n      if (window.confirm) {\r\n        window.location.reload()\r\n      }\r\n    } else {\r\n      setlength(ImgUpload.length)\r\n\r\n      for (let i = 0; i < ImgUpload.length; i++) {\r\n        setuploadno(i + 1)\r\n        const imgref = ref(storage, `post/${time}`)\r\n        await uploadBytes(imgref, ImgUpload[i])//For uploading (kuta upload,kai upload)\r\n          .then(async (snapshot) => {//  \"snapshot\" tyat sagala astay [items,prefixes,extra]\r\n            await getDownloadURL(snapshot.ref)//url download karaylo ref cha, ref kai ahe tar \"ImageUrls/\"\r\n              .then((url) => {//snapshot madla url\r\n                URLS.push(url)\r\n\r\n              })\r\n          });\r\n      }\r\n      firebase.putData(`posts/${time}`, {\r\n        Title: Post_txtTitle,\r\n        Para: Post_textarea,\r\n        IImages: URLS\r\n      })\r\n    }\r\n  }\r\n\r\n  const status = () => {\r\n    setuploadstatus(!uploadstatus)\r\n  }\r\n  const posthandler = () => {\r\n    postDatas();\r\n    status()\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"postUpload_body\">\r\n        <div className=\"postUpload_container\">\r\n          <textarea\r\n            placeholder=\"Type Title\"\r\n            value={Post_txtTitle}\r\n            onChange={TxtTitle}\r\n            className=\"postUpload_title\"\r\n          ></textarea>\r\n          <textarea\r\n            placeholder=\"Type here\"\r\n            value={Post_textarea}\r\n            onChange={TxtChange}\r\n            className=\"postUpload_textarea\"\r\n          >\r\n            {\" \"}\r\n          </textarea>\r\n          <div className=\"postUploadBrowse\">\r\n            <img\r\n              className=\"postUpload_img\"\r\n              src=\"./tabler_photo-up.svg\"\r\n              alt=\"/\"\r\n            />\r\n            <input type=\"file\" multiple onChange={(event) => { setImgUpload(event.target.files) }} />\r\n            <button className=\"postUploadbtn\" onClick={posthandler}>\r\n              Post\r\n            </button>\r\n          </div>\r\n          {uploadstatus && (\r\n            <div>\r\n              {uploadno <= lengths ? (\r\n                <p>Uploaded...{uploadno}/{lengths}</p>\r\n              ) : (\r\n                <p>Uploaded All</p>\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n\r\n}"],"mappings":";;AACA,SAASA,QAAQ,QAAQ,OAAO;AAChC,SAASC,gBAAgB,EAAEC,EAAE,EAAEC,OAAO,EAAEC,WAAW,QAAQ,qBAAqB;AAChF,OAAO,mBAAmB;AAC1B,OAAO,kBAAkB;AACzB,SAASC,cAAc,EAAEC,GAAG,EAAEC,WAAW,QAAQ,kBAAkB;AAAA,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAEnE,eAAe,SAASC,UAAUA,CAAA,EAAG;EAAAC,EAAA;EAEnC,MAAM,CAACC,aAAa,EAAEC,gBAAgB,CAAC,GAAGf,QAAQ,CAAC,EAAE,CAAC;EACtD,MAAMgB,SAAS,GAAIC,KAAK,IAAK;IAC3BF,gBAAgB,CAACE,KAAK,CAACC,MAAM,CAACC,KAAK,CAAC;EACtC,CAAC;EAED,MAAM,CAACC,aAAa,EAAEC,eAAe,CAAC,GAAGrB,QAAQ,CAAC,EAAE,CAAC;EACrD,MAAMsB,QAAQ,GAAIL,KAAK,IAAK;IAC1BI,eAAe,CAACJ,KAAK,CAACC,MAAM,CAACC,KAAK,CAAC;EACrC,CAAC;EAED,MAAM,CAACI,SAAS,EAAEC,YAAY,CAAC,GAAGxB,QAAQ,CAAC,EAAE,CAAC;EAC9C,MAAM,CAACyB,YAAY,EAAEC,eAAe,CAAC,GAAG1B,QAAQ,CAAC,KAAK,CAAC;EACvD,MAAM,CAAC2B,QAAQ,EAAEC,WAAW,CAAC,GAAG5B,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAAC6B,OAAO,EAAEC,SAAS,CAAC,GAAG9B,QAAQ,CAAC,EAAE,CAAC;EACzC,IAAI+B,IAAI,GAAG,EAAE;EACb,MAAMC,QAAQ,GAAC5B,WAAW,CAAC,CAAC;EAG5B,MAAM6B,SAAS,GAAG,MAAAA,CAAA,KAAY;IAC5B,IAAIC,IAAI,GAAGC,IAAI,CAACC,GAAG,CAAC,CAAC;IAErB,IAAK,CAAChB,aAAa,IAAIN,aAAa,MAAM,EAAE,IAAMS,SAAS,CAACc,MAAM,KAAK,CAAE,EAAE;MACzEC,KAAK,CAAC,kBAAkB,CAAC;MACzB,IAAIC,MAAM,CAACC,OAAO,EAAE;QAClBD,MAAM,CAACE,QAAQ,CAACC,MAAM,CAAC,CAAC;MAC1B;IACF,CAAC,MAAM;MACLZ,SAAS,CAACP,SAAS,CAACc,MAAM,CAAC;MAE3B,KAAK,IAAIM,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGpB,SAAS,CAACc,MAAM,EAAEM,CAAC,EAAE,EAAE;QACzCf,WAAW,CAACe,CAAC,GAAG,CAAC,CAAC;QAClB,MAAMC,MAAM,GAAGtC,GAAG,CAACH,OAAO,EAAG,QAAO+B,IAAK,EAAC,CAAC;QAC3C,MAAM3B,WAAW,CAACqC,MAAM,EAAErB,SAAS,CAACoB,CAAC,CAAC,CAAC;QAAA,CACpCE,IAAI,CAAC,MAAOC,QAAQ,IAAK;UAAC;UACzB,MAAMzC,cAAc,CAACyC,QAAQ,CAACxC,GAAG,CAAC;UAAA,CAC/BuC,IAAI,CAAEE,GAAG,IAAK;YAAC;YACdhB,IAAI,CAACiB,IAAI,CAACD,GAAG,CAAC;UAEhB,CAAC,CAAC;QACN,CAAC,CAAC;MACN;MACAf,QAAQ,CAACiB,OAAO,CAAE,SAAQf,IAAK,EAAC,EAAE;QAChCgB,KAAK,EAAE9B,aAAa;QACpB+B,IAAI,EAAErC,aAAa;QACnBsC,OAAO,EAAErB;MACX,CAAC,CAAC;IACJ;EACF,CAAC;EAED,MAAMsB,MAAM,GAAGA,CAAA,KAAM;IACnB3B,eAAe,CAAC,CAACD,YAAY,CAAC;EAChC,CAAC;EACD,MAAM6B,WAAW,GAAGA,CAAA,KAAM;IACxBrB,SAAS,CAAC,CAAC;IACXoB,MAAM,CAAC,CAAC;EACV,CAAC;EAED,oBACE5C,OAAA,CAAAE,SAAA;IAAA4C,QAAA,eACE9C,OAAA;MAAK+C,SAAS,EAAC,iBAAiB;MAAAD,QAAA,eAC9B9C,OAAA;QAAK+C,SAAS,EAAC,sBAAsB;QAAAD,QAAA,gBACnC9C,OAAA;UACEgD,WAAW,EAAC,YAAY;UACxBtC,KAAK,EAAEC,aAAc;UACrBsC,QAAQ,EAAEpC,QAAS;UACnBkC,SAAS,EAAC;QAAkB;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACnB,CAAC,eACZrD,OAAA;UACEgD,WAAW,EAAC,WAAW;UACvBtC,KAAK,EAAEL,aAAc;UACrB4C,QAAQ,EAAE1C,SAAU;UACpBwC,SAAS,EAAC,qBAAqB;UAAAD,QAAA,EAE9B;QAAG;UAAAI,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACI,CAAC,eACXrD,OAAA;UAAK+C,SAAS,EAAC,kBAAkB;UAAAD,QAAA,gBAC/B9C,OAAA;YACE+C,SAAS,EAAC,gBAAgB;YAC1BO,GAAG,EAAC,uBAAuB;YAC3BC,GAAG,EAAC;UAAG;YAAAL,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACR,CAAC,eACFrD,OAAA;YAAOwD,IAAI,EAAC,MAAM;YAACC,QAAQ;YAACR,QAAQ,EAAGzC,KAAK,IAAK;cAAEO,YAAY,CAACP,KAAK,CAACC,MAAM,CAACiD,KAAK,CAAC;YAAC;UAAE;YAAAR,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,eACzFrD,OAAA;YAAQ+C,SAAS,EAAC,eAAe;YAACY,OAAO,EAAEd,WAAY;YAAAC,QAAA,EAAC;UAExD;YAAAI,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC,EACLrC,YAAY,iBACXhB,OAAA;UAAA8C,QAAA,EACG5B,QAAQ,IAAIE,OAAO,gBAClBpB,OAAA;YAAA8C,QAAA,GAAG,aAAW,EAAC5B,QAAQ,EAAC,GAAC,EAACE,OAAO;UAAA;YAAA8B,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,gBAEtCrD,OAAA;YAAA8C,QAAA,EAAG;UAAY;YAAAI,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG;QACnB;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACE,CACN;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH;EAAC,gBACN,CAAC;AAGP;AAACjD,EAAA,CAtGuBD,UAAU;EAAA,QAiBjBR,WAAW;AAAA;AAAAiE,EAAA,GAjBJzD,UAAU;AAAA,IAAAyD,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}