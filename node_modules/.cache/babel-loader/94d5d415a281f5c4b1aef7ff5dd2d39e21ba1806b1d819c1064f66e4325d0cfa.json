{"ast":null,"code":"var _jsxFileName = \"F:\\\\Coding crafters\\\\coding-crafters\\\\src\\\\components\\\\Inbox.jsx\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport { FirebaseProvider, db, storage, useFirebase } from \"../context/Firebase\";\nimport \"./dummy_inbox.css\";\nimport 'firebase/storage';\nimport { getDownloadURL, ref, uploadBytes } from \"firebase/storage\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Dummyinbox() {\n  _s();\n  const [Post_textarea, setPost_textarea] = useState(\"\");\n  const TxtChange = event => {\n    setPost_textarea(event.target.value);\n  };\n  const [Post_txtTitle, setPost_txtTile] = useState(\"\");\n  const TxtTitle = event => {\n    setPost_txtTile(event.target.value);\n  };\n  const [ImgUpload, setImgUpload] = useState([]);\n  const [uploadstatus, setuploadstatus] = useState(false);\n  const [uploadno, setuploadno] = useState('');\n  const [lengths, setlength] = useState('');\n  let URLS = [];\n  const postDatas = async () => {\n    if ((Post_txtTitle || Post_textarea) === '' || ImgUpload.length === 0) {\n      alert(\"Please Fill all \");\n      if (window.confirm) {\n        window.location.reload();\n      }\n    } else {\n      setlength(ImgUpload.length);\n      for (let i = 0; i < ImgUpload.length; i++) {\n        setuploadno(i + 1);\n        const imgref = ref(storage, `Images/${ImgUpload[i].name}`);\n        await uploadBytes(imgref, ImgUpload[i]) //For uploading (kuta upload,kai upload)\n        .then(async snapshot => {\n          //  \"snapshot\" tyat sagala astay [items,prefixes,extra]\n          await getDownloadURL(snapshot.ref) //url download karaylo ref cha, ref kai ahe tar \"ImageUrls/\"\n          .then(url => {\n            //snapshot madla url\n            URLS.push(url);\n          });\n        });\n      }\n      let time = Date.now();\n      useFirebase.putData(`posts/${time}`, {\n        Title: Post_txtTitle,\n        Para: Post_textarea,\n        IImages: URLS\n      });\n      db.ref(\"posts\").child(time).set({\n        Title: Post_txtTitle,\n        Para: Post_textarea,\n        IImages: URLS\n      });\n    }\n  };\n  const status = () => {\n    setuploadstatus(!uploadstatus);\n  };\n  const posthandler = () => {\n    postDatas();\n    status();\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"postUpload_body\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"postUpload_container\",\n        children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n          placeholder: \"Type Title\",\n          value: Post_txtTitle,\n          onChange: TxtTitle,\n          className: \"postUpload_title\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          placeholder: \"Type here\",\n          value: Post_textarea,\n          onChange: TxtChange,\n          className: \"postUpload_textarea\",\n          children: \" \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"postUploadBrowse\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"postUpload_img\",\n            src: \"./tabler_photo-up.svg\",\n            alt: \"/\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            multiple: true,\n            onChange: event => {\n              setImgUpload(event.target.files);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"postUploadbtn\",\n            onClick: posthandler,\n            children: \"Post\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this), uploadstatus && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: uploadno <= lengths ? /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Uploaded...\", uploadno, \"/\", lengths]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Uploaded All\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n_s(Dummyinbox, \"yGmtLUbDN15U4WxKSo3kMSkWEr8=\");\n_c = Dummyinbox;\nvar _c;\n$RefreshReg$(_c, \"Dummyinbox\");","map":{"version":3,"names":["useState","FirebaseProvider","db","storage","useFirebase","getDownloadURL","ref","uploadBytes","jsxDEV","_jsxDEV","Fragment","_Fragment","Dummyinbox","_s","Post_textarea","setPost_textarea","TxtChange","event","target","value","Post_txtTitle","setPost_txtTile","TxtTitle","ImgUpload","setImgUpload","uploadstatus","setuploadstatus","uploadno","setuploadno","lengths","setlength","URLS","postDatas","length","alert","window","confirm","location","reload","i","imgref","name","then","snapshot","url","push","time","Date","now","putData","Title","Para","IImages","child","set","status","posthandler","children","className","placeholder","onChange","fileName","_jsxFileName","lineNumber","columnNumber","src","alt","type","multiple","files","onClick","_c","$RefreshReg$"],"sources":["F:/Coding crafters/coding-crafters/src/components/Inbox.jsx"],"sourcesContent":["\r\nimport { useState } from \"react\";\r\nimport { FirebaseProvider, db,storage, useFirebase } from \"../context/Firebase\";\r\nimport \"./dummy_inbox.css\";\r\nimport 'firebase/storage';\r\nimport { getDownloadURL, ref, uploadBytes } from \"firebase/storage\"\r\n\r\nexport default function Dummyinbox() {\r\n\r\n  const [Post_textarea, setPost_textarea] = useState(\"\");\r\n  const TxtChange = (event) => {\r\n    setPost_textarea(event.target.value);\r\n  };\r\n\r\n  const [Post_txtTitle, setPost_txtTile] = useState(\"\");\r\n  const TxtTitle = (event) => {\r\n    setPost_txtTile(event.target.value);\r\n  };\r\n\r\n  const [ImgUpload, setImgUpload] = useState([])\r\n  const [uploadstatus, setuploadstatus] = useState(false)\r\n  const [uploadno, setuploadno] = useState('')\r\n  const [lengths, setlength] = useState('')\r\n  let URLS = []\r\n  \r\n  const postDatas = async () => {\r\n    if (((Post_txtTitle || Post_textarea) === '') || (ImgUpload.length === 0)) {\r\n      alert(\"Please Fill all \");\r\n      if (window.confirm) {\r\n        window.location.reload()\r\n      }\r\n    } else {\r\n      setlength(ImgUpload.length)\r\n\r\n      for (let i = 0; i < ImgUpload.length; i++) {\r\n        setuploadno(i + 1)\r\n        const imgref = ref(storage, `Images/${ImgUpload[i].name}`)\r\n        await uploadBytes(imgref, ImgUpload[i])//For uploading (kuta upload,kai upload)\r\n          .then(async (snapshot) => {//  \"snapshot\" tyat sagala astay [items,prefixes,extra]\r\n            await getDownloadURL(snapshot.ref)//url download karaylo ref cha, ref kai ahe tar \"ImageUrls/\"\r\n              .then((url) => {//snapshot madla url\r\n                URLS.push(url)\r\n\r\n              })\r\n          });\r\n      }\r\n      let time = Date.now();\r\n      useFirebase.putData(`posts/${time}`,{\r\n        Title: Post_txtTitle,\r\n        Para: Post_textarea,\r\n        IImages: URLS\r\n      })\r\n      db.ref(\"posts\").child(time).set({\r\n\r\n        Title: Post_txtTitle,\r\n        Para: Post_textarea,\r\n        IImages: URLS\r\n      })\r\n    }    \r\n  }\r\n\r\n  const status = () => {\r\n    setuploadstatus(!uploadstatus)\r\n  }\r\n  const posthandler = () => {\r\n    postDatas();\r\n    status()\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"postUpload_body\">\r\n        <div className=\"postUpload_container\">\r\n          <textarea\r\n            placeholder=\"Type Title\"\r\n            value={Post_txtTitle}\r\n            onChange={TxtTitle}\r\n            className=\"postUpload_title\"\r\n          ></textarea>\r\n          <textarea\r\n            placeholder=\"Type here\"\r\n            value={Post_textarea}\r\n            onChange={TxtChange}\r\n            className=\"postUpload_textarea\"\r\n          >\r\n            {\" \"}\r\n          </textarea>\r\n          <div className=\"postUploadBrowse\">\r\n            <img\r\n              className=\"postUpload_img\"\r\n              src=\"./tabler_photo-up.svg\"\r\n              alt=\"/\"\r\n            />\r\n            <input type=\"file\" multiple onChange={(event) => { setImgUpload(event.target.files) }} />\r\n            <button className=\"postUploadbtn\" onClick={posthandler}>\r\n              Post\r\n            </button>\r\n          </div>\r\n          {uploadstatus && (\r\n            <div>\r\n              {uploadno <= lengths ? (\r\n                <p>Uploaded...{uploadno}/{lengths}</p>\r\n              ) : (\r\n                <p>Uploaded All</p>\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}