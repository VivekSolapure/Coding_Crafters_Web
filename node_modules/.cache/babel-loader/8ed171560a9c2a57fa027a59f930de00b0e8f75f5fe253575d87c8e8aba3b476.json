{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import\"./post.css\";import{database}from\"../../context/Firebase\";import{getAuth,onAuthStateChanged,signOut}from'firebase/auth';import{child,get,ref}from\"firebase/database\";import Slider from\"react-slick\";// import 'slick-carousel/slick/slick-theme.css'\nimport'slick-carousel/slick/slick-theme.css';import'slick-carousel/slick/slick.css';import{Link}from\"react-router-dom\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function Posts(props){const auth=getAuth();const[user,setuser]=useState(null);useEffect(()=>{onAuthStateChanged(auth,user=>{if(user){console.log(\"You are logged in\",user);setuser(user);}else{console.log(\"you are logged out\");setuser(null);}});},[]);const settings={dots:true,infinite:true,speed:500,slidesToShow:1,slidesToScroll:1,autoplay:true,autoplaySpeed:2000};const[postData,setpostData]=useState([]);useEffect(()=>{const fetchData=async()=>{try{get(child(ref(database),'post')).then(snapshot=>{const data=snapshot.val();if(data){setpostData(data);}});}catch(error){console.error(\"Error fetching data:\",error);}};fetchData();},[]);console.log(postData);const isAdmin=user&&user.email===\"solapurevivek2003@gmail.com\";return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"Pbody\",children:[isAdmin&&/*#__PURE__*/_jsx(Link,{to:\"/post/inbox\",children:/*#__PURE__*/_jsx(\"div\",{className:\"Postbtn\",children:/*#__PURE__*/_jsx(\"p\",{children:\"+\"})})}),Object.values(postData).length===0?/*#__PURE__*/_jsx(\"h1\",{children:\"Loading...\"}):Object.values(postData).map((post,id)=>/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"Pline1\",children:/*#__PURE__*/_jsx(\"div\",{className:\"Pline\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"Pslider\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"Pproduct-carousel\",children:/*#__PURE__*/_jsx(\"div\",{className:\"Pproduct-container\",children:/*#__PURE__*/_jsx(Slider,{style:{width:500},...settings,children:Object.values(post.imglist).length===0?/*#__PURE__*/_jsx(\"p\",{children:\"No images\"}):Object.values(post.imglist.split('>>>')).map((image,imageId)=>/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"img\",{style:{width:500},src:image,alt:\"ImageNO \".concat(imageId)})},imageId))})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"Pslide_info\",children:[/*#__PURE__*/_jsx(\"h3\",{id:\"Pslide_info_title\",children:post.title}),/*#__PURE__*/_jsx(\"p\",{id:\"Pslide_info_para\",children:post.description})]})]})]})},id)),/*#__PURE__*/_jsx(\"div\",{className:\"Pline1_down\",children:/*#__PURE__*/_jsx(\"div\",{className:\"Pline_down\"})})]})});}export default Posts;","map":{"version":3,"names":["React","useState","useEffect","database","getAuth","onAuthStateChanged","signOut","child","get","ref","Slider","Link","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Posts","props","auth","user","setuser","console","log","settings","dots","infinite","speed","slidesToShow","slidesToScroll","autoplay","autoplaySpeed","postData","setpostData","fetchData","then","snapshot","data","val","error","isAdmin","email","children","className","to","Object","values","length","map","post","id","style","width","imglist","split","image","imageId","src","alt","concat","title","description"],"sources":["F:/Coding crafters/coding-crafters/src/components/navbar/Post.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport \"./post.css\";\r\nimport { database } from \"../../context/Firebase\";\r\nimport { getAuth, onAuthStateChanged, signOut } from 'firebase/auth';\r\nimport { child, get , ref } from \"firebase/database\";\r\nimport Slider from \"react-slick\";\r\n// import 'slick-carousel/slick/slick-theme.css'\r\nimport 'slick-carousel/slick/slick-theme.css'\r\nimport 'slick-carousel/slick/slick.css'\r\nimport { Link } from \"react-router-dom\";\r\n\r\n\r\nfunction Posts(props) {\r\n  const auth= getAuth();\r\n  const [user, setuser] = useState(null)\r\n  useEffect(()=>{\r\n    onAuthStateChanged(auth,(user)=>{\r\n        if(user){\r\n            console.log(\"You are logged in\",user);\r\n            setuser(user)\r\n        }else{\r\n            console.log(\"you are logged out\");\r\n            setuser(null)\r\n        }\r\n    })\r\n},[]);\r\n  const settings = {\r\n    dots: true,\r\n    infinite: true,\r\n    speed: 500,\r\n    slidesToShow: 1,\r\n    slidesToScroll: 1,\r\n    autoplay: true,\r\n    autoplaySpeed: 2000, \r\n  };\r\n  const [postData, setpostData] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        get(child(ref(database), 'post')).then(snapshot => {\r\n          const data = snapshot.val();\r\n          if (data) {\r\n            setpostData(data);\r\n          }\r\n        })\r\n      } catch (error) {\r\n        console.error(\"Error fetching data:\", error);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n\r\n  },[]);\r\n\r\n  console.log(postData);\r\n  const isAdmin = user && user.email === \"solapurevivek2003@gmail.com\"\r\n\r\n\r\n  return (\r\n    <>\r\n      <div className=\"Pbody\">\r\n        {isAdmin && (\r\n          <Link to=\"/post/inbox\">\r\n            <div className=\"Postbtn\">\r\n              <p>+</p>\r\n            </div>\r\n          </Link>\r\n        )}\r\n\r\n        {\r\n          Object.values(postData).length === 0 ? (\r\n            <h1>Loading...</h1>\r\n          ) :\r\n            Object.values(postData).map((post, id) => (\r\n              <div key={id}>{\r\n                <>\r\n                  <div className=\"Pline1\">\r\n                    <div className=\"Pline\"></div>\r\n                  </div>\r\n                  <div className=\"Pslider\">\r\n                    <div className=\"Pproduct-carousel\">\r\n                      <div className=\"Pproduct-container\">\r\n                        <Slider style={{ width: 500 }} {...settings}>\r\n                          {\r\n                            Object.values(post.imglist).length === 0 ? (\r\n                              <p>No images</p>\r\n                            ) :\r\n                              Object.values(post.imglist.split('>>>')).map((image, imageId) =>\r\n                              (\r\n                                <div key={imageId}>\r\n                                  <img style={{ width: 500 }} src={image} alt={`ImageNO ${imageId}`} />\r\n                                </div>\r\n                              ))}\r\n                        </Slider>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"Pslide_info\">\r\n                      <h3 id=\"Pslide_info_title\">{post.title}</h3>\r\n                      <p id=\"Pslide_info_para\">{post.description}</p>\r\n                      {/* <div className=\"Pcomment\">\r\n                          <textarea id=\"Pinput\" placeholder=\"Comment\" type=\"text\" />\r\n                          <div className=\"PsendContainer\">\r\n                            <img id=\"Psend\" src=\"./Vector.png\" alt=\"\" />\r\n                          </div>\r\n                        </div> */}\r\n                    </div>\r\n                  </div>\r\n                </>\r\n\r\n              }\r\n\r\n              </div>\r\n\r\n            ))\r\n        }\r\n        <div className=\"Pline1_down\">\r\n          <div className=\"Pline_down\"></div>\r\n        </div>\r\n      </div >\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Posts\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}